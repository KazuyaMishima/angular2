<h5>Nuevo Movimiento</h5>
<!--(click) es un evento-->
<span [hidden]="mostrarFormulario">
  <button (click)="mostrarFormulario=true">Mostrar Formulario</button>
</span>
<span [hidden]="!mostrarFormulario">
  <button (click)="mostrarFormulario=false" >Ocultar Formulario</button>
</span>

<!-- * directivas estructurales-->
<div *ngIf="mostrarFormulario" class="container" >
  <div class="row">
    <label for="" class="column">Formulario: </label>
    <!--asignación de un valor a un elemento-->
    <input type="text" class="column" ngModel="Nuevo Movimiento">
  </div>
  <div class="row">
    <label for="" class="column">Fecha: </label>
    <!--propiedad de solo lectura, desde el modelo hacia el elemento-->
    <input type="text" [ngModel]="movimiento.fecha" class="column">
  </div>
  <div class="row">
    <label for="" class="column">Importe: </label>
    <!--banana in a box, lectura y escritura-->
    <input type="number" [(ngModel)]="movimiento.importe" class="column"> 
  </div>
  <div class="row">
    <label for="" class="column">Tipo: </label>
    <div *ngFor="let tipo of tipos" class="column">
      <!--for es un atributo, requiere una sintaxis especial-->
      <label [attr.for]="tipo.id">
        <!--
         [id]
          es una propiedad se usa []
          name define el grupo de opciones
          [(ngModel)] el campo dónde se escribirá el valor seleccionado
          [value]= de dónde toma valor esta opción
          (ngModelChange) Qué ocurre cuando se cambia
        -->
        <input 
          [id]="tipo.id" 
          name="tiposGroup" 
          [(ngModel)]="movimiento.tipo" 
          [value]="tipo.id"
          (ngModelChange)="cambioTipo()" 
          type="radio">
          {{ tipo.text }}
      </label>
    </div>
  </div>
  <!--cuando cambia el tipo se recargan las categorías-->
 <div class="row">
    <label for="" class="column">Categoría: </label>
    <!--las opciones se cargan con *ngFor-->
    <select name="categoria" [(ngModel)]="movimiento.categoria" class="column">
        <option 
            *ngFor="let categoria of categorias"
            [value]="categoria.id"> 
            {{categoria.text}} 
        </option>
    </select>
  </div>
  <div class="row">
    <button (click)="guardarMovimiento()">Guardar</button>
  </div>
  <div class="row">
    <em class="row">Movimento en curso: </em>
    <code class="row">
      {{ movimiento | json }}
    </code>
  </div>
  <div class="row">
    <em class="row">Lista de movimientos:</em>
    <div class="row">
      <code>
        {{ movimientos | json }}
      </code>
    </div>
  </div>
</div>